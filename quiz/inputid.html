<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wellcome</title>
    <link
      rel="icon"
      href="./img/spaces_-MJ3-diUp-gxuyf_wwsg_avatar-1604894864018.png"
    />
    <link
      href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://pro.fontawesome.com/releases/v5.12.0/css/all.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./style_c.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Goldman&display=swap"
      rel="stylesheet"
    />
  </head>

  <body id="particles-js">
    <div id="dom"></div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="../packet/typed.min.js"></script>
    <script src="../packet/particles.js"></script>
    <script src="../packet/app.js"></script>
    <script>
      var dom = document.querySelector("#dom");
      var input = `        <div style="position: absolute; width: 100%">
        <div class="nav">
          <a href="./start.html"><img id="logo" src="./img/logo_white.png"></a>
      </div>
            <div class="input-container">
                <div class="just-title">
                    <div class="just-title-left">
                        <img class="bounce" src="./img/chiHuongMuon.gif" alt="">
                    </div>
                    <div class="just-title-right">
                        <h2>Hi, there! <span class="autoText_2"></span></h2>
                        <h2>Can You Hack Me?</h2>
                        <weird-input name="test" v-model="message"></weird-input>
                    </div>
                </div>
                <form id="formid" class="" action="submit">
                    <h3 style="text-align: center; color:#fff">Enter Your Team's ID To Accept The Challenge</h3>
                    <div class="form__group field">
                        <input type="input" class="form__field" placeholder="Your ID" name="id" id='name' required />
                        <label for="name" class="form__label">Your ID</label>
                    </div>
                    <div id="show_error"></div>
                    <div style="margin: 40px auto; width: 100%; text-align: center">
                        <button href="#" class="button gradient-border">Let's start <i
                                class="fas fa-chevron-double-right"></i></button>
                    </div>

                </form>
            </div>

        </div>`;
      dom.innerHTML = `<div class="loader">
            <div class="image">
              <i class="fa fa-codepen"></i>
            </div>
            <span></span>
          </div>`;
      $(document).ready(function () {
        var counter = 0;

        // Start the changing images
        var Phuoc = setInterval(function () {
          if (counter == 3) {
            counter = 0;
          }

          changeImage(counter);
          counter++;
        }, 3000);

        // Set the percentage off
        loading();
        function changeImage(counter) {
          var images = [
            '<img style="width:40px" src="./img/spaces_-MJ3-diUp-gxuyf_wwsg_avatar-1604894864018.png" alt="">',
            '<img style="width:40px" src="./img/HaSUa.png" alt="">',
            '<img style="width:40px" src="./img/spaces_-MJ3-diUp-gxuyf_wwsg_avatar-1604894864018.png" alt="">',
            '<img style="width:40px" src="./img/HaSUa.png" alt="">',
          ];

          $(".loader .image").html("" + images[counter] + "");
        }

        function loading() {
          var num = 0;

          for (i = 0; i <= 100; i++) {
            setTimeout(function () {
              $(".loader span").html(num + "%");

              if (num == 100) {

                dom.innerHTML = input;
                
                var typed = new Typed(".autoText_2", {
                  strings: [
                    '<strong style="color:#c00000">I Am MindXer</strong>',
                    '<strong style="color:#44bd32">I Am Hacker NVC</strong>',
                  ],

                  typeSpeed: 100,
                  backSpeed: 60,
                  loop: true,
                  backDelay: 1500,
                });

                let form = document.querySelector("#formid");
                let erorr = document.querySelector("#show_error");
                form.id.value = "GC2020_HN_";
                form.onsubmit = (e) => {
                  e.preventDefault();
                  let idteam = form.id.value.trim();
                  if (
                    idteam.length > 10 &&
                    idteam.slice(0, 10) == "GC2020_HN_" &&
                    parseInt(idteam.slice(10)) != NaN
                  ) {
                    let data = {
                      time: new Date().getTime(),
                      id: idteam,
                    };
                    erorr.innerHTML = "";
                    window.location.href = `quizz.html?level=level_1&id=${idteam}`;
                  } else {
                    erorr.innerHTML = "Invalid ID";
                  }
                };
              }
              num++;
            }, i * 60);
          }
        }
      });
    </script>
  </body>
</html>
